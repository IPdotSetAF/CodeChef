<div class="container-fluid page p-4">
    <div class="row">
        <h2>Font Converter</h2>
        <p>Convert fonts to different formats.</p>
    </div>

    <div class="card row">
        <div class="card-header">
            <h3 for="fileInput" class="form-label"><i class="bi bi-file-earmark-font"></i> Select or Drag And Drop Font
                Files</h3>
        </div>

        <div class="card-body drop-zone d-flex align-items-center" (dragover)="onDragOver($event)"
            (dragleave)="onDragLeave($event)" (drop)="onDrop($event)" [class.drag-over]="isDragOver">
            <div class="w-100">

                <!-- File Input -->
                <div class="mb-3">
                    <input type="file" class="form-control" id="fileInput" (change)="onFileSelected($event)" multiple
                        accept=".{{fromExtensions | join: ', .'}}" />
                    <small class="text-muted">Allowed formats: .{{fromExtensions | join: ', .'}}</small>
                </div>

                <!-- Selected Files List -->
                <div>
                    <ul class="list-group">
                        @for (file of files; track file.originalFile.name ; let i = $index) {
                        <li class="list-group-item">
                            <div class="d-flex justify-content-between align-items-center">
                                <div>
                                    <button class="btn btn-outline-danger border-0 btn-sm bi bi-x-lg"
                                        (click)="removeFile(i)"></button>

                                    <span>
                                        {{ file.originalFile.name }} ({{ file.originalFile.size | bytes }})
                                        @if (file.convertedFile) {
                                        <span class="text-success">
                                            → Converted to {{ file.convertedFile.name }} ({{ file.convertedFile.size |
                                            bytes }})
                                        </span>
                                        }
                                    </span>
                                </div>

                                @if (file.convertedFile) {
                                <button class="btn btn-success btn-sm bi bi-download"
                                    (click)="downloadFile(file.convertedFile)"></button>
                                }
                            </div>
                        </li>
                        }
                    </ul>
                </div>

            </div>
        </div>

        <div class="card-footer container">
            <div class="col-12 d-flex justify-content-center align-items-center gap-2">
                <label for="convertFormat" class="form-label text-nowrap">Convert to:</label>
                <select id="convertFormat" class="form-select" [(ngModel)]="selectedFormat"
                    (change)="onFormatChanged()">
                    @for (format of toExtensions; track format) {
                    <option [value]="format">{{ format }}</option>
                    }
                </select>
            </div>

        </div>
    </div>

    <br />

    <div class="row">
        <div class="col-12 d-flex justify-content-center gap-2">
            <button class="btn btn-success" (click)="convert()">Convert <i class="bi bi-caret-right"></i></button>
            <button class="btn btn-success" [disabled]="!isConverted" (click)="downloadAll()">Download All <i
                    class="bi bi-download"></i></button>
        </div>
    </div>

    <br />

    <p><strong>.TTF (TrueType Font):</strong><br>TTF is a widely used font format that works on both Windows and macOS.
        It supports high-quality scaling, making it suitable for both screen and print. TTF is commonly used in
        applications like word processors, graphic design software, and websites. However, it lacks some advanced
        typographic features compared to newer formats.</p>
    <p><strong>.OTF (OpenType Font):</strong><br>OTF is an extension of TTF, offering additional features like
        ligatures, alternate characters, and multilingual support. It’s ideal for professional design work, such as
        branding and print materials, due to its advanced typographic capabilities. OTF is also cross-platform and works
        well for both screen and print.</p>
    <p><strong>.WOFF (Web Open Font Format):</strong><br>WOFF is specifically designed for web use. It compresses TTF or
        OTF fonts, reducing file size for faster loading on websites. WOFF is supported by most modern browsers and is a
        popular choice for web designers who need efficient, high-quality fonts for online content.</p>
    <p><strong>.WOFF2:</strong><br>WOFF2 is an improved version of WOFF, offering even better compression and faster
        loading times. It’s ideal for modern web design, especially when performance and speed are critical. WOFF2 is
        supported by most up-to-date browsers.</p>
    <p><strong>.EOT (Embedded OpenType):</strong><br>EOT is a legacy font format designed for web use, primarily for
        older versions of Internet Explorer. It’s less commonly used today due to limited browser support and the rise
        of more efficient formats like WOFF and WOFF2.</p>
    <p><strong>.SVG (Scalable Vector Graphics):</strong><br>SVG fonts use vector graphics to render text, making them
        highly scalable and ideal for high-resolution displays. They were historically used for web icons and simple
        text but have largely been replaced by WOFF and WOFF2 for web typography.</p>
    <p>Each format serves specific purposes, from print and professional design (OTF, TTF) to web optimization (WOFF,
        WOFF2) and legacy support (EOT, SVG). Choosing the right format depends on the intended use and platform.</p>
    <p>With this tool, you can easily convert different font formats to each other and in batches! Simply select your font files, choose the desired output format, and click the "Convert" button. You can then
        download the converted files individually or all at once.</p>
</div>